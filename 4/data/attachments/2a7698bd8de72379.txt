# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Background color tests >> verify Red ( #e74c3c ) is applied as the background color
- Location: /home/runner/work/test-automation-best-practices/test-automation-best-practices/e2e/tests/coverage.spec.ts:51:9

# Error details

```
Error: page.click: Test timeout of 30000ms exceeded.
Call log:
  - waiting for locator('text=Red')

    at /home/runner/work/test-automation-best-practices/test-automation-best-practices/e2e/tests/coverage.spec.ts:55:18
```

# Page snapshot

```yaml
- main:
  - combobox "Select Language":
    - option "English" [selected]
    - option "Español"
    - option "Ελληνικά"
  - img "logo"
  - heading "Color Chooser App" [level=1]
  - paragraph:
    - text: Edit
    - code: src/App.js
    - text: and save to reload.
  - link "Learn React"
  - text: "Current color: #1abc9c"
  - paragraph: Loading colors...
```

# Test source

```ts
   1 | import { test, expect } from "../baseFixtures";
   2 | import { convertHexToRGB, extractHexColor } from "../helper";
   3 |
   4 | test.beforeEach(async ({ page }) => {
   5 |   await page.goto("/");
   6 | });
   7 |
   8 | interface Color {
   9 |   name: string;
  10 |   hex: string;
  11 | }
  12 |
  13 | const colors: Color[] = [
  14 |   { name: "Turquoise", hex: "1abc9c" },
  15 |   { name: "Red", hex: "e74c3c" },
  16 |   { name: "Yellow", hex: "f1c40f" },
  17 | ];
  18 |
  19 | /**
  20 |  * Test: Verify that Turquoise is set as the default background color
  21 |  * Steps:
  22 |  * 1. Get the current color text from the page
  23 |  * 2. Extract the hex code from the current color placeholder
  24 |  * 3. Verify it matches the expected Turquoise hex code
  25 |  * 4. Convert hex to RGB for CSS validation
  26 |  * 5. Verify the header background color of the page matches the RGB values
  27 |  */
  28 | test("check Turquoise ( #1abc9c) is the default background color.", async ({
  29 |   page,
  30 | }) => {
  31 |   const turquoiseHex = colors.find(c => c.name === "Turquoise")?.hex || "1abc9c";
  32 |   await expect(page.locator("text=Current color:")).toContainText(turquoiseHex);
  33 |   
  34 |   let rgbColors = convertHexToRGB(`#${turquoiseHex}`);
  35 |   await expect(page.locator("header")).toHaveCSS(
  36 |     "background-color",
  37 |     `rgb(${rgbColors.red}, ${rgbColors.green}, ${rgbColors.blue})`
  38 |   );
  39 | });
  40 |
  41 | /**
  42 |  * Test Suite: Background color tests
  43 |  *
  44 |  * This suite iterates over each color in the `colors` array and verifies:
  45 |  * 1. Clicking the color name applies the correct background color to the header.
  46 |  * 2. The displayed current color hex matches the expected hex code.
  47 |  * 3. The header's CSS background-color matches the expected RGB value.
  48 |  */
  49 | test.describe("Background color tests", () => {
  50 |   for (const color of colors) {
  51 |     test(`verify ${color.name} ( #${color.hex} ) is applied as the background color`, async ({
  52 |       page,
  53 |     }) => {
  54 |       // Click the color name to change the background color
> 55 |       await page.click(`text=${color.name}`);
     |                  ^ Error: page.click: Test timeout of 30000ms exceeded.
  56 |
  57 |       // Wait for React to fetch and update DOM
  58 |       await expect(page.locator("text=Current color:")).toContainText(color.hex);
  59 |
  60 |       // Convert hex to RGB for CSS validation
  61 |       const rgb = convertHexToRGB(`#${color.hex}`);
  62 |
  63 |       // Verify the header background color matches the expected RGB value
  64 |       await expect(page.locator("header")).toHaveCSS(
  65 |         "background-color",
  66 |         `rgb(${rgb.red}, ${rgb.green}, ${rgb.blue})`
  67 |       );
  68 |     });
  69 |   }
  70 | });
  71 |
```